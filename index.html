<script>

    const clickedTime = new Date().getTime();
    const timeToWait = 500;
    function validateAppInstallation() {
        const now = new Date().getTime();
        if (now - clickedTime < (timeToWait + 100)) {
            alert(navigator.platform)
            if(['iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) >= 0){
                window.location = "https://apps.apple.com/sg/app/singlife-invest-save-insure/id1485702405"; 
            }else{
                window.location = "https://play.google.com/store/apps/details?id=com.singlife.mobile"; 
            }
        }
    }

    setTimeout(validateAppInstallation, timeToWait);

    const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop),
    });
    
    window.location.replace(`singlifeph://--/${params.screen}?action=${params.action}`);

</script>
